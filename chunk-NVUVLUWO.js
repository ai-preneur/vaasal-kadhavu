import{a as I,b as p,c as q,d as D,e as G,f as R,g as j,h as k,i as B,j as V,k as z,l as A,m as H,n as J,o as K}from"./chunk-EWY4EZ7Q.js";import{a as Q,b as U}from"./chunk-GV3R3P72.js";import{b as E}from"./chunk-L6BVGBZP.js";import"./chunk-X5YLR3NI.js";import{k as F,l as y,m as w,n as L,o as P,p as T,q as N,r as O}from"./chunk-U6XLKD35.js";import{m as S}from"./chunk-C5WDSWUU.js";import{Da as o,Na as v,Sa as d,Ya as f,Z as c,ab as s,bb as n,cb as e,db as u,hb as _,ib as b,sa as g,sb as a,ub as x}from"./chunk-JRLHULWQ.js";import{i as h}from"./chunk-ODN5LVDJ.js";function X(t,r){t&1&&(n(0,"mat-error"),a(1,"Email is required"),e())}function Y(t,r){t&1&&(n(0,"mat-error"),a(1,"Please enter a valid email"),e())}function Z(t,r){t&1&&(n(0,"mat-error"),a(1,"Password is required"),e())}function $(t,r){if(t&1&&(n(0,"div",6),a(1),e()),t&2){let m=b();o(),x(" ",m.errorMessage()," ")}}function tt(t,r){t&1&&(n(0,"span"),a(1,"Login"),e())}function et(t,r){t&1&&u(0,"mat-spinner",8)}var W=class t{fb=c(k);supabase=c(E);router=c(S);loginForm;loading=g(!1);errorMessage=g("");constructor(){this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}onSubmit(){return h(this,null,function*(){if(this.loginForm.valid){this.loading.set(!0),this.errorMessage.set("");let{email:r,password:m}=this.loginForm.value,{data:i,error:l}=yield this.supabase.signIn(r,m);l?(this.errorMessage.set(l.message),this.loading.set(!1)):this.router.navigate(["/dashboard"])}})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(m){return new(m||t)};static \u0275cmp=v({type:t,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matInput","","type","password","formControlName","password","placeholder","Enter your password"],[1,"error-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20"],["mat-button","",3,"click"]],template:function(m,i){if(m&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),a(4,"Login"),e()(),n(5,"mat-card-content")(6,"form",2),_("ngSubmit",function(){return i.onSubmit()}),n(7,"mat-form-field",3)(8,"mat-label"),a(9,"Email"),e(),u(10,"input",4),d(11,X,2,0,"mat-error")(12,Y,2,0,"mat-error"),e(),n(13,"mat-form-field",3)(14,"mat-label"),a(15,"Password"),e(),u(16,"input",5),d(17,Z,2,0,"mat-error"),e(),d(18,$,2,1,"div",6),n(19,"button",7),d(20,tt,2,0,"span")(21,et,1,0,"mat-spinner",8),e()()(),n(22,"mat-card-actions")(23,"button",9),_("click",function(){return i.goToRegister()}),a(24," Don't have an account? Register "),e()()()()),m&2){let l,C,M;o(6),f("formGroup",i.loginForm),o(5),s((l=i.loginForm.get("email"))!=null&&l.hasError("required")?11:-1),o(),s((C=i.loginForm.get("email"))!=null&&C.hasError("email")?12:-1),o(5),s((M=i.loginForm.get("password"))!=null&&M.hasError("required")?17:-1),o(),s(i.errorMessage()?18:-1),o(),f("disabled",i.loading()||i.loginForm.invalid),o(),s(i.loading()?-1:20),o(),s(i.loading()?21:-1)}},dependencies:[B,G,I,q,D,R,j,O,w,T,P,N,L,H,A,V,z,K,J,y,F,U,Q],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f5f5f5;padding:16px}.auth-card[_ngcontent-%COMP%]{max-width:450px;width:100%}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px 0 16px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500}mat-card-content[_ngcontent-%COMP%]{padding:24px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;margin-bottom:16px;text-align:center}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 16px 16px}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]})};export{W as LoginComponent};
