import{a as G,b as c,c as k,d as D,e as L,f as V,g as j,h as z,i as A,j as B,k as H,l as U,m as J,n as K,o as Q}from"./chunk-EWY4EZ7Q.js";import{a as W,b as X}from"./chunk-GV3R3P72.js";import{b as P}from"./chunk-JZZZ445X.js";import"./chunk-X5YLR3NI.js";import{k as y,l as F,m as R,n as T,o as N,p as O,q,r as I}from"./chunk-U6XLKD35.js";import{m as S}from"./chunk-C5WDSWUU.js";import{Da as o,Na as E,Sa as d,Ya as f,Z as u,ab as m,bb as r,cb as i,db as p,hb as _,ib as C,sa as g,sb as a,ub as h}from"./chunk-JRLHULWQ.js";import{i as b}from"./chunk-ODN5LVDJ.js";function Z(e,n){e&1&&(r(0,"mat-error"),a(1,"Email is required"),i())}function $(e,n){e&1&&(r(0,"mat-error"),a(1,"Please enter a valid email"),i())}function ee(e,n){e&1&&(r(0,"mat-error"),a(1,"Password is required"),i())}function te(e,n){e&1&&(r(0,"mat-error"),a(1,"Password must be at least 6 characters"),i())}function ie(e,n){e&1&&(r(0,"mat-error"),a(1,"Please confirm your password"),i())}function re(e,n){e&1&&(r(0,"mat-error"),a(1,"Passwords do not match"),i())}function ne(e,n){if(e&1&&(r(0,"div",7),a(1),i()),e&2){let s=C();o(),h(" ",s.errorMessage()," ")}}function oe(e,n){if(e&1&&(r(0,"div",8),a(1),i()),e&2){let s=C();o(),h(" ",s.successMessage()," ")}}function ae(e,n){e&1&&(r(0,"span"),a(1,"Register"),i())}function se(e,n){e&1&&p(0,"mat-spinner",10)}var Y=class e{fb=u(z);supabase=u(P);router=u(S);registerForm;loading=g(!1);errorMessage=g("");successMessage=g("");constructor(){this.registerForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]],confirmPassword:["",[c.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){let s=n.get("password"),t=n.get("confirmPassword");return s&&t&&s.value!==t.value?{passwordMismatch:!0}:null}onSubmit(){return b(this,null,function*(){if(this.registerForm.valid){this.loading.set(!0),this.errorMessage.set(""),this.successMessage.set("");let{email:n,password:s}=this.registerForm.value,{data:t,error:l}=yield this.supabase.signUp(n,s);l?(this.errorMessage.set(l.message),this.loading.set(!1)):(this.successMessage.set("Registration successful! Please check your email to confirm."),this.loading.set(!1),setTimeout(()=>{this.router.navigate(["/login"])},2e3))}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=E({type:e,selectors:[["app-register"]],decls:33,vars:12,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","Enter your email"],["matInput","","type","password","formControlName","password","placeholder","Enter your password"],["matInput","","type","password","formControlName","confirmPassword","placeholder","Confirm your password"],[1,"error-message"],[1,"success-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20"],["mat-button","",3,"click"]],template:function(s,t){if(s&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),a(4,"Register"),i()(),r(5,"mat-card-content")(6,"form",2),_("ngSubmit",function(){return t.onSubmit()}),r(7,"mat-form-field",3)(8,"mat-label"),a(9,"Email"),i(),p(10,"input",4),d(11,Z,2,0,"mat-error")(12,$,2,0,"mat-error"),i(),r(13,"mat-form-field",3)(14,"mat-label"),a(15,"Password"),i(),p(16,"input",5),d(17,ee,2,0,"mat-error")(18,te,2,0,"mat-error"),i(),r(19,"mat-form-field",3)(20,"mat-label"),a(21,"Confirm Password"),i(),p(22,"input",6),d(23,ie,2,0,"mat-error")(24,re,2,0,"mat-error"),i(),d(25,ne,2,1,"div",7)(26,oe,2,1,"div",8),r(27,"button",9),d(28,ae,2,0,"span")(29,se,1,0,"mat-spinner",10),i()()(),r(30,"mat-card-actions")(31,"button",11),_("click",function(){return t.goToLogin()}),a(32," Already have an account? Login "),i()()()()),s&2){let l,M,v,x,w;o(6),f("formGroup",t.registerForm),o(5),m((l=t.registerForm.get("email"))!=null&&l.hasError("required")?11:-1),o(),m((M=t.registerForm.get("email"))!=null&&M.hasError("email")?12:-1),o(5),m((v=t.registerForm.get("password"))!=null&&v.hasError("required")?17:-1),o(),m((x=t.registerForm.get("password"))!=null&&x.hasError("minlength")?18:-1),o(5),m((w=t.registerForm.get("confirmPassword"))!=null&&w.hasError("required")?23:-1),o(),m(t.registerForm.hasError("passwordMismatch")?24:-1),o(),m(t.errorMessage()?25:-1),o(),m(t.successMessage()?26:-1),o(),f("disabled",t.loading()||t.registerForm.invalid),o(),m(t.loading()?-1:28),o(),m(t.loading()?29:-1)}},dependencies:[A,L,G,k,D,V,j,I,R,O,N,q,T,J,U,B,H,Q,K,F,y,X,W],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f5f5f5;padding:16px}.auth-card[_ngcontent-%COMP%]{max-width:450px;width:100%}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px 0 16px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500}mat-card-content[_ngcontent-%COMP%]{padding:24px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;margin-bottom:16px;text-align:center}.success-message[_ngcontent-%COMP%]{color:#4caf50;font-size:14px;margin-bottom:16px;text-align:center}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 16px 16px}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]})};export{Y as RegisterComponent};
